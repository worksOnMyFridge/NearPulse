# üé® WebApp Update - Real Data Integration

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. üîå –ù–æ–≤—ã–µ API Endpoints
–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–∞ –Ω–æ–≤—ã—Ö endpoint –≤ `src/api.js`:

#### GET /api/transactions/:address?limit=10
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –∞–¥—Ä–µ—Å–∞
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (HOT claim, swap, transfer, token transfer)
- –î–æ–±–∞–≤–ª—è–µ—Ç –∏–∫–æ–Ω–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞–∫ –≤ –±–æ—Ç–µ
- –í–∫–ª—é—á–∞–µ—Ç USD —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è NEAR —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### GET /api/hot-claim/:address
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å HOT –∫–ª–µ–π–º–∞
- –í—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–ª–µ–π–º–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- –§–ª–∞–≥ `canClaim` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### 2. üìú –í–∫–ª–∞–¥–∫–∞ "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"
–û–±–Ω–æ–≤–ª–µ–Ω `TransactionsScreen.jsx`:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ API
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫–∏: üî• HOT Claim, üîÑ Swap, üì•/üì§ –ü–µ—Ä–µ–≤–æ–¥—ã, ü™ô –¢–æ–∫–µ–Ω—ã
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å dayjs ("15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥")
- USD —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è NEAR —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°—Å—ã–ª–∫–∞ –Ω–∞ Nearblocks explorer –¥–ª—è –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω (2-3 —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é)

### 3. ‚è±Ô∏è HOT Claim Timer
–î–æ–±–∞–≤–ª–µ–Ω –≤ `OverviewScreen.jsx`:
- –ñ–∏–≤–æ–π –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–ª–µ–π–º–∞
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- –ó–µ–ª–µ–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–≥–¥–∞ –∫–ª–µ–π–º –¥–æ—Å—Ç—É–ø–µ–Ω
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### 4. üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `dayjs` –≤ webapp –¥–ª—è:
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (fromNow)
- –†—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ª–æ–≥–∏–∫–æ–π –±–æ—Ç–∞

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ batch —Ñ–∞–π–ª (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç, –∑–∞–ø—É—à–∏—Ç)
update-webapp.bat
```

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd webapp
npm install
cd ..

# 2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "feat: Add real transactions and HOT claim timer"
git push

# 3. Railway –∏ Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: API
npm run api

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: WebApp
cd webapp
npm run dev

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

### Backend
- ‚úÖ `src/api.js` - –î–æ–±–∞–≤–ª–µ–Ω—ã `/api/transactions` –∏ `/api/hot-claim`

### Frontend
- ‚úÖ `webapp/src/services/api.js` - –§—É–Ω–∫—Ü–∏–∏ `fetchTransactions()` –∏ `fetchHotClaimStatus()`
- ‚úÖ `webapp/src/components/TransactionsScreen.jsx` - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `webapp/src/components/OverviewScreen.jsx` - –î–æ–±–∞–≤–ª–µ–Ω HOT claim —Ç–∞–π–º–µ—Ä
- ‚úÖ `webapp/package.json` - –î–æ–±–∞–≤–ª–µ–Ω `dayjs`

### Deployment
- ‚úÖ `update-webapp.bat` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **Railway API** - –ù–æ–≤—ã–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
   ```bash
   curl https://YOUR-RAILWAY-URL/api/transactions/leninjiv23.tg?limit=5
   curl https://YOUR-RAILWAY-URL/api/hot-claim/leninjiv23.tg
   ```

2. **Vercel Frontend** - –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–π–º–µ—Ä HOT –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

3. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ—à–∏–±–æ–∫ –Ω–µ—Ç**
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools Console (F12)
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ CORS
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Unexpected token <"

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API Response Structure

**GET /api/transactions/:address**
```json
{
  "address": "leninjiv23.tg",
  "transactions": [
    {
      "hash": "ABC123...",
      "type": "hot_claim",
      "icon": "üî•",
      "description": "Claim HOT",
      "amount": 0.5,
      "amountFormatted": "0.50",
      "usdValue": 2.5,
      "timestamp": 1234567890000,
      "tokenName": null
    }
  ],
  "nearPrice": 5.0,
  "timestamp": 1234567890000
}
```

**GET /api/hot-claim/:address**
```json
{
  "address": "leninjiv23.tg",
  "canClaim": false,
  "nextClaimTime": 1234567890000,
  "timeUntilClaim": "2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç",
  "lastClaimTime": 1234560000000,
  "timestamp": 1234567890000
}
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Unexpected token <"
**–ü—Ä–∏—á–∏–Ω–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –≤–º–µ—Å—Ç–æ JSON

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `VITE_API_URL` –≤ Vercel –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: `https://nearpulse-production.up.railway.app`
3. –ë–ï–ó `/api` –Ω–∞ –∫–æ–Ω—Ü–µ

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞
**–ü—Ä–∏—á–∏–Ω–∞:** Railway API –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å Vercel

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ URL Vercel –≤ `WEBAPP_URL` env –Ω–∞ Railway
2. –ü—Ä–∏–º–µ—Ä: `https://your-app.vercel.app`

### –ü—Ä–æ–±–ª–µ–º–∞: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** Endpoint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –∞–¥—Ä–µ—Å –Ω–µ–≤–µ—Ä–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω –Ω–∞ Railway
2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ endpoint –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ curl/Postman
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

## –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ
–í–∞—à WebApp —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ NEAR blockchain!
