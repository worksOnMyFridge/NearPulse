@echo off
chcp 65001 >nul
echo ========================================
echo üîÑ –û–¢–ö–ê–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô (ROLLBACK)
echo ========================================
echo.

echo ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç!
echo –≠—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞.
echo.
pause

echo üì¶ –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∫–æ–º–º–∏—Ç...
git revert HEAD --no-edit

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫–∞—Ç–µ
    echo.
    echo –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:
    echo git reset --hard HEAD~1
    echo git push --force origin master
    pause
    exit /b 1
)

echo ‚úÖ –û—Ç–∫–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
echo.

echo üîÑ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ GitHub...
git push origin master

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ push
    pause
    exit /b 1
)

echo.
echo ========================================
echo ‚úÖ –û—Ç–∫–∞—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!
echo ========================================
echo.
echo üìç Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã
echo üìç –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å
echo.
echo üí° –ü–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏ –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å —Å–Ω–æ–≤–∞
echo.
pause
