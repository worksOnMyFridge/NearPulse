# üß™ –¢–ï–°–¢–û–í–´–ô –î–ï–ü–õ–û–ô - –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:

### 1. `vercel.json` - –≤–µ—Ä—Å–∏—è 2 —Å —è–≤–Ω—ã–º–∏ builds –∏ routes
```json
{
  "version": 2,
  "builds": [
    { "src": "api/**/*.js", "use": "@vercel/node" },      // ‚Üê –í—Å–µ API —Ñ—É–Ω–∫—Ü–∏–∏
    { "src": "webapp/package.json", "use": "@vercel/static-build" }  // ‚Üê –§—Ä–æ–Ω—Ç–µ–Ω–¥
  ],
  "routes": [
    { "src": "/api/test", "dest": "/api/test.js" },       // ‚Üê –¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
    { "src": "/api/(.*)", "dest": "/api/index.js" },     // ‚Üê –û—Å–Ω–æ–≤–Ω–æ–µ API
    { "handle": "filesystem" },                           // ‚Üê –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    { "src": "/(.*)", "dest": "/webapp/dist/$1" }        // ‚Üê –§—Ä–æ–Ω—Ç–µ–Ω–¥
  ]
}
```

### 2. `api/test.js` - –ø—Ä–æ—Å—Ç–µ–π—à–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Functions –≤–æ–æ–±—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

### 3. `webapp/package.json` - –¥–æ–±–∞–≤–ª–µ–Ω `vercel-build` —Å–∫—Ä–∏–ø—Ç
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å–±–æ—Ä–∫–∏ –Ω–∞ Vercel.

---

## üöÄ –î–ï–ü–õ–û–ô:

```bash
cd "c:\Users\la1wo\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\web3\near-analytics-bot"
git add .
git commit -m "fix: Use Vercel v2 config with explicit builds and test function"
git push origin master
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ (2-3 –º–∏–Ω—É—Ç—ã).

---

## ‚úÖ –ü–û–®–ê–ì–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ:

### –¢–µ—Å—Ç 1: –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–±–µ–∑ Express)
```
https://near-pulse.vercel.app/api/test
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```json
{
  "status": "ok",
  "message": "Test Vercel Function works! ‚úÖ",
  "timestamp": 1234567890
}
```

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ Vercel Functions –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ!  
**–ï—Å–ª–∏ 404/401:** ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vercel builds.

---

### –¢–µ—Å—Ç 2: Express API —Ñ—É–Ω–∫—Ü–∏—è
```
https://near-pulse.vercel.app/api/health
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```json
{
  "status": "ok",
  "timestamp": 1234567890,
  "service": "NearPulse API"
}
```

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ Express app –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ serverless function!  
**–ï—Å–ª–∏ 500/–æ—à–∏–±–∫–∞:** ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∏–º–ø–æ—Ä—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ –∫–æ–¥–µ Express.

---

### –¢–µ—Å—Ç 3: –ë–∞–ª–∞–Ω—Å API
```
https://near-pulse.vercel.app/api/balance/leninjiv23.tg
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```json
{
  "address": "leninjiv23.tg",
  "near": { "available": 13.12, ... },
  "hot": { "balance": 43.5, ... }
}
```

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ NEAR API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!  
**–ï—Å–ª–∏ timeout:** ‚ùå –ù—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å maxDuration –≤ vercel.json.

---

### –¢–µ—Å—Ç 4: –§—Ä–æ–Ω—Ç–µ–Ω–¥
```
https://near-pulse.vercel.app/
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ F12

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢! üéâ  
**–ï—Å–ª–∏ 404:** ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –≤ outputDirectory –∏–ª–∏ —Å–±–æ—Ä–∫–µ webapp.

---

### –¢–µ—Å—Ç 5: –°—Ç–∞—Ç–∏–∫–∞
```
https://near-pulse.vercel.app/vite.svg
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è SVG —Ñ–∞–π–ª (–Ω–µ JSON, –Ω–µ 401)

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –æ—Ç–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!  
**–ï—Å–ª–∏ 401:** ‚ùå Routes –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã, –≤—Å—ë –∏–¥–µ—Ç –Ω–∞ API.

---

## üîç –ì–î–ï –ò–ú–ï–ù–ù–û –°–õ–û–ú–ê–õ–û–°–¨?

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ –≤—ã –±—É–¥–µ—Ç–µ —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å:

| –¢–µ—Å—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç |
|------|-----------|----------------|
| –¢–µ—Å—Ç 1 ‚ùå | 404/401 | Vercel –Ω–µ –≤–∏–¥–∏—Ç `api/` –ø–∞–ø–∫—É –∏–ª–∏ builds –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã |
| –¢–µ—Å—Ç 1 ‚úÖ, –¢–µ—Å—Ç 2 ‚ùå | 500 | Express –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ serverless (–ø—Ä–æ–±–ª–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π) |
| –¢–µ—Å—Ç 2 ‚úÖ, –¢–µ—Å—Ç 3 ‚ùå | Timeout | NEAR API –º–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å timeout |
| –¢–µ—Å—Ç 4 ‚ùå | 404 | Webapp –Ω–µ —Å–æ–±—Ä–∞–ª—Å—è –∏–ª–∏ outputDirectory –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π |
| –¢–µ—Å—Ç 5 ‚ùå | 401 | Routes –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç —Å—Ç–∞—Ç–∏–∫—É –Ω–∞ API |

---

## üìä –ß–¢–û –ü–û–ö–ê–ó–ê–¢–¨ –ú–ù–ï:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ –≤—Å—ë ‚úÖ**
> "–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! –í–æ—Ç —Å—Å—ã–ª–∫–∞: https://near-pulse.vercel.app/"

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ ‚ùå**
–ü–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö 5 —Ç–µ—Å—Ç–æ–≤:
```
–¢–µ—Å—Ç 1: ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
–¢–µ—Å—Ç 2: ‚ùå –æ—à–∏–±–∫–∞ 500
–¢–µ—Å—Ç 3: –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª
–¢–µ—Å—Ç 4: ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
–¢–µ—Å—Ç 5: ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

–ò —Å–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–∫–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (F12 ‚Üí Network ‚Üí –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞).

–° —ç—Ç–∏–º —è —Ç–æ—á–Ω–æ –Ω–∞–π–¥—É –ø—Ä–æ–±–ª–µ–º—É –∑–∞ 1 –º–∏–Ω—É—Ç—É! üéØ

---

## üí° –ü–û–ß–ï–ú–£ –≠–¢–û –î–û–õ–ñ–ù–û –°–†–ê–ë–û–¢–ê–¢–¨:

1. **`"src": "api/**/*.js"`** - Vercel —Å–æ–±–µ—Ä—ë—Ç –í–°–ï `.js` —Ñ–∞–π–ª—ã –≤ `api/` –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏
2. **`"src": "webapp/package.json"`** - Vercel —Å–æ–±–µ—Ä—ë—Ç webapp –æ—Ç–¥–µ–ª—å–Ω–æ
3. **`"handle": "filesystem"`** - –°—Ç–∞—Ç–∏–∫–∞ –æ—Ç–¥–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, –Ω–µ —á–µ—Ä–µ–∑ API
4. **–¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è** - –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Functions –≤–æ–æ–±—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç

–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è! –î–æ–ª–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å! üí™

---

## üéØ –ó–ê–ö–û–ú–ú–ò–¢–¨–¢–ï –°–ï–ô–ß–ê–°:

```bash
git add .
git commit -m "fix: Add v2 config with test function for debugging"
git push origin master
```

–ò –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ 5 —Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è! ‚ú®
